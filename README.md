# 🛒스파르타 마켓(DRF) 🛒

---

## 목차

1.  [프로젝트 개요](#1-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B0%9C%EC%9A%94)
2.  [기능 소개](#2-%EA%B8%B0%EB%8A%A5-%EC%86%8C%EA%B0%9C)
3.  [실행 사진](#3-%EC%8B%A4%ED%96%89-%EC%82%AC%EC%A7%84)
4.  [트러블 슈팅](#4-%ED%8A%B8%EB%9F%AC%EB%B8%94-%EC%8A%88%ED%8C%85)
5.  [사용 기술](#5-%EC%82%AC%EC%9A%A9-%EA%B8%B0%EC%88%A0)
6.  [성과 및 회고](#6-%EC%84%B1%EA%B3%BC-%EB%B0%8F-%ED%9A%8C%EA%B3%A0)

---

## **1\. 프로젝트 개요**

spartamarket은 개인 사용자가 자신의 물건을 등록하고, 다른 사용자의 물건을 찜할 수 있는 플랫폼입니다. 회원가입이 필수이며, 모든 유저는 서로의 물건을 쉽게 탐색하고 소통할 수 있습니다.

---

## **2\. 기능 소개**

-   회원 기능  
    -   username, 비밀번호, 이메일, 이름, 닉네임을 필수로 입력하고 성별과 생일 자기소개도 선택적으로 입력하면 회원가입이 가능하다.
    -   회원 가입 후 이메일과 비밀번호를 입력하면 로그인이 가능하다.
    -   로그인한 상태에서 refresh에 토큰을 무효화하는 값이 들어오면 로그아웃이 가능하다.
-   유저 기능  
    -   로그인한 상태에서 프로필 정보를 가져와 로그인 한 사람의 이메일 주소, 닉네임, 이름, 팔로워 수, 팔로잉 수, 프로필 이미지등을 볼 수 있다.
    -   로그인한 상태에서 다른 유저를 팔로우할 수 있다.
-   게시 기능  
    -   로그인한 상태에서 상품 이미지와 제목, 글 내용을 적으면 상품이 등록이 가능하다.
    -   로그인 하지 않아도 get 요청을 보내서 등록된 상품 목록을 확인이 가능하다.
    -   상품 목록에서 상세 페이지 확인이 가능하다.
    -   상세 페이지에서 해당 상품에 좋아요를 누르거나 취소하여 찜을 할 수 있다.
    -   로그인 한 상태에서 본인이 등록한 상품들만 put 요청을 보내 다시 상품의 이미지, 제목, 글 내용을 수정이 가능하다.
    -   로그인 한 상태에서 본인이 등록한 상품들만 delete 요청을 보내 상품을 등록 해제가 가능하다.
    -   로그인 한 상태에서 본인이 등록하지 않은 상품들에도 comment를 입력하여 댓글을 달 수 있다.
    -   로그인 한 상태에서 본인이 쓴 댓글만 delete 요청을 보내 삭제가 가능하다.
    -   로그인 한 상태에서 본인이 쓴 댓글만 put 요청을 보내 comment를 수정하여 댓글을 수정할 수 있다.
    -   로그인 한 상태에서 댓글에 좋아요를 누르거나 취소할 수 있다.

---

## **3. 실행 사진**

[실행 사진 보러가기](https://github.com/sang000000/DRF/tree/main/API_Test_Results)


  
  
  
  
  
  
  
  
  
  

---

## **4. 트러블 슈팅**

### 문제
1. **TypeError** 
   - 회원 가입 시 생일도 입력 받으려 했으나, `makemigrations` 과정에서 이전에 생일을 입력 받지 않고 생성한 데이터베이스 때문에 `TypeError: fromisoformat: argument must be str`라는 오류가 발생했습니다.
   
2. **상품 이미지 업로드 오류** 
   - `print` 문으로 확인해보면 정상적으로 이미지가 포함되었지만, 데이터베이스에는 함께 업로드되지 않고 `null` 처리가 되는 문제가 발생했습니다.

### 해결 방법
1. **생일 필드 처리** 
   - `birthdate = models.DateField('생일', blank=True, null=True)`로 설정하여, 기존에 생성된 데이터에 생일 값이 없어도 문제가 발생하지 않도록 하여 해결하였습니다.

2. **이미지 필드 처리**
   - 프로필 이미지는 모델이 없었기 때문에 `profile_image = serializers.SerializerMethodField()`로 커스텀 필드로 처리하여 정상적으로 동작하였습니다.
   - 그러나 상품 이미지는 모델이 있었기 때문에 위와 같은 방식으로는 사진이 업로드되지 않았고, `ImageField()`를 사용하여 이미지 필드로 변경하여 해결하였습니다.

---

## **5\. 사용 기술**

📀 백엔드

-   Python
-   Django REST Framework

💬 협업도구

-   GitHub
-   Slack
-   Postman

---

## **6\. 성과 및 회고**

-   잘된 점
    -   회원 가입이 정상적으로 가능하고 로그인을 하면 Access Token과 Refresh Token이 발급되어 로그아웃도 가능하고 리소스 접근이 가능하게 한 점이 좋았다.
    -   로그인 했을때만 글이 작성이 가능하고 본인의 프로필은 팔로우가 안되게 하는 등의 처리를 한 점이 좋았다.
    -   팔로우와 팔로워 수를 볼 수 있게 한 점이 좋았다. 
    -   댓글을 적을 수 있어 물건 거래를 할 때 유용하게 사용이 가능하다는 점이 좋았다.
    -   댓글에 좋아요가 가능하고 본인이 쓴 댓글만 수정과 삭제가 가능하게 한 점이 좋았다.
    -   게시물에 좋아요를 눌러 찜을 할 수 있는 점이 좋았다.
    -   본인이 쓴 게시물만 삭제 및 수정이 가능하게 한 점이 좋았다.
-   아쉬운 점  
    -   상품 목록에서 조회를 통해 원하는 정보의 상품만 확인이 안되는 점이 아쉬웠다.
    -   회원 가입은 가능하지만 회원 탈퇴가 불가능하고 비밀번호 변경이 안되는 점이 아쉬웠다.
-   향후 계획
    -   현재는 회원 탈퇴가 안되기 때문에 회원 탈퇴 기능도 구현할 계획이다.
    -   현재는 패스워드를 첨에 설정한 값밖에는 안되기 때문에 비밀번호 변경 기능도 구현해 볼 계획이다.
    -   물건 검색 기능을 구현해 볼 계획이다.